<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.7/dist/css/uikit.min.css" />

    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.7/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.7/dist/js/uikit-icons.min.js"></script>

    <!-- custom CSS -->
    <link rel="stylesheet" href="./css/custom.css">

    <script>
        // click listener for the entity
        AFRAME.registerComponent('clickhandler', {
            init: function () {
                this.el.addEventListener('click', () => {
                    // put data in the popup screen
                    document.getElementById('popup-headline').innerHTML = this.el.getAttribute('title');
                    document.getElementById('popup-body').innerHTML = this.el.getAttribute('description');
                    // open the popup
                    UIkit.modal("#popup-modal").show();

                    // scoreboard logic
                    document.getElementById('foundObjects').innerHTML++;
                });
            }
        });
    </script>
</head>

<body style="margin: 0; overflow: hidden;">
    <div class="uk-container">
        <div class="buttons uk-background-default">
            <span class="uk-badge" id="foundObjects">0</span> van de <span class="uk-badge" id="totalObjects">0</span>
            gevonden! ðŸ˜®
        </div>
        <a-scene cursor='rayOrigin: mouse; fuse: true; fuseTimeout: 0;' raycaster="objects: [clickhandler];"
            vr-mode-ui="enabled: false" embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
            <!-- <a-image src="assets/asset.png" look-at="[gps-camera]" scale="1 1 1"
                gps-entity-place="latitude: 5.6754981; longitude: -55.0723643;"></a-image> -->
            <!-- <a-link gps-entity-place="latitude: 5.6754981; longitude: -55.0723643;" title="Home" scale="1 1 1"
                look-at="[gps-camera]"></a-link> -->

            <a-camera gps-camera rotation-reader></a-camera>
        </a-scene>
    </div>

    <div id="popup-modal" class="uk-modal-full" uk-modal>
        <div class="uk-modal-dialog">
            <button class="uk-modal-close-full uk-close-large" type="button" uk-close></button>
            <div class="uk-grid-collapse uk-child-width-1-2@s uk-flex-middle" uk-grid>
                <div class="uk-background-cover" id="popup-image-cover"
                    style="background-image: url('images/photo.jpg');" uk-height-viewport>
                </div>
                <div class="uk-padding-large">
                    <h1 id="popup-headline"></h1>
                    <p id="popup-body"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="./js/managePlaces.js"></script>
</body>

</html>